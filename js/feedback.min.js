var button=document.querySelector(".contacts-button"),modal=document.querySelector(".modal-feedback"),wrapper=document.querySelector(".modal-feedback-wrapper"),form=modal.querySelector("form"),close=document.querySelector(".modal-close"),login=modal.querySelector("[name = feedback-name]"),mail=modal.querySelector("[name = feedback-email"),text=modal.querySelector("[name = textarea-text"),storageLogin=localStorage.getItem("feedback-name"),storageMail=localStorage.getItem("feedback-email");
button.addEventListener("click",function(a){a.preventDefault();modal.classList.add("modal-show");wrapper.classList.add("modal-show-wrapper");storageLogin&&storageMail?(login.value=storageLogin,mail.value=storageMail,text.focus()):login.focus()});close.addEventListener("click",function(a){a.preventDefault();modal.classList.remove("modal-show");wrapper.classList.remove("modal-show-wrapper");modal.classList.contains("modal-error")&&modal.classList.remove("modal-error")});
form.addEventListener("submit",function(a){login.value&&mail.value?(localStorage.setItem("feedback-name",login.value),localStorage.setItem("feedback-email",mail.value)):(a.preventDefault(),modal.classList.contains("modal-error")&&modal.classList.remove("modal-error"),modal.offsetWidth,modal.classList.add("modal-error"))});
window.addEventListener("keydown",function(a){27===a.keyCode&&(modal.classList.contains("modal-show")&&modal.classList.remove("modal-show"),wrapper.classList.contains("modal-show-wrapper")&&wrapper.classList.remove("modal-show-wrapper"),modal.classList.contains("modal-error")&&modal.classList.remove("modal-error"))});
